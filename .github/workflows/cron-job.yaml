name: Call API routinely
on:
  schedule:
    - cron: '0 13 * * *'
    - cron: '0 15 * * *'

  workflow_dispatch:   

jobs:
  trigger-webhooks:
    runs-on: ubuntu-latest
    steps:
      - name: Call update-overdue-chore-status
        run: |
          curl -X GET https://flatastic02.vercel.app/api/webhooks/update-overdue-chore-status \
            -H "x-webhook-secret: ${{ secrets.WEBHOOK_SECRET }}"

      - name: Call chore-reminder
        run: |
          curl -X GET https://flatastic02.vercel.app/api/webhooks/chore-reminder \
            -H "x-webhook-secret: ${{ secrets.WEBHOOK_SECRET }}"
